<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="google-site-verification" content="CAJSXz1q9IoKgvnzjtqfn7KaJhAJMC9sCywfxWYum7s">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>How to Extract Numbers from a String in PHP?</title>
<meta name="description" content="PHP offers several methods and functions to help you extract numbers from a string effectively.">
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
<link rel="icon" href="https://cdn.jsdelivr.net/gh/chandan-tudu/docs@latest/assets/favicon.png" sizes="32x32">
<link rel="icon" href="https://cdn.jsdelivr.net/gh/chandan-tudu/docs@latest/assets/favicon.png" sizes="192x192">
<link rel="apple-touch-icon" href="https://cdn.jsdelivr.net/gh/chandan-tudu/docs@latest/assets/favicon.png">
<meta name="msapplication-TileImage" content="https://cdn.jsdelivr.net/gh/chandan-tudu/docs@latest/assets/favicon.png">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/chandan-tudu/docs@latest/assets/styles.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/chandan-tudu/docs@latest/assets/ex.min.css">
<link rel="canonical" href="https://www.devbabu.com/docs/php/extract-numbers-from-a-string-in-php.html"></head>
<body>
<div class="header" id="header"></div>
<div class="nav-links"><ul><li><a href="./index.html">PHP</a></li></ul></div>
<article class="article-container">
<div class="box"><h1>How to Extract Numbers from a String in PHP?</h1></div>
<!-- <div class="img"><img src="https://cdn.jsdelivr.net/gh/chandan-tudu/docs-images@latest/php.jpg" alt="Post Thumbnail of Extract Numbers from a String in PHP" loading="lazy" width="900" height="500"></div> -->
<p>When working with text data in PHP, you might need to <strong>extract numerical values from a string</strong>. This is a common task in data processing, such as parsing user input or extracting data from strings containing mixed content.</p>

<p>PHP offers several methods and functions to help you extract numbers from a string effectively. In this article, we'll explore different approaches to achieve this task.</p>

<h2>1. Using Regular Expressions with <code>preg_match_all()</code></h2>

<p>Regular expressions are a powerful way to match and extract specific patterns from strings. You can use the <code>preg_match_all()</code> function in PHP to find and extract all numbers from a given string.</p>

<p>Here's an example:</p>

<pre class="language-php"><code>$inputString = 'The price of the product is $99.99, and the discount is 20%.';
preg_match_all('/\d+\.\d+|\d+/', $inputString, $matches);

print_r($matches[0]);
</code></pre>

<p>Output:</p>

<pre><code>Array
(
    [0] =&gt; 99.99
    [1] =&gt; 20
)
</code></pre>

<p>In this example, the regular expression <code>/\d+\.\d+|\d+/</code> is used to match and extract numbers from the <code>$inputString</code>. It captures both decimal numbers (with or without a decimal point) and whole numbers.</p>

<h2>2. Using <code>preg_replace()</code> to Remove Non-Numeric Characters</h2>

<p>Another approach to extract numbers from a string is to use <code>preg_replace()</code> to remove all non-numeric characters, leaving only the numbers.</p>

<p>Here's an example:</p>

<pre class="language-php"><code>$inputString = 'The price of the product is $99.99, and the discount is 20%.';

$integer = preg_replace('/[^0-9]+/', '', $inputString);
$double = preg_replace('/[^0-9.]+/', '', $inputString);

echo $integer . PHP_EOL;
echo $double . PHP_EOL;
</code></pre>

<p>Output:</p>

<pre><code>999920  
99.9920.</code></pre>

<p>In this example, the <code>preg_replace('/[^0-9.]+/', '', $inputString)</code> statement replaces all non-numeric characters (including decimal points) with an empty string, effectively leaving only the numbers.</p>

<h2>3. Using <code>filter_var()</code> to Extract Numbers from URLs</h2>

<p>PHP's <code>filter_var</code> function can be utilized to filter and extract numeric values from a string.</p>
<p>This approach is particularly useful if you're dealing with numbers that follow a specific format. For instance, you can extract numbers following the format of a URL:</p>

<p>Here's an example:</p>

<pre class="language-php"><code>$string = "Visit https://example.com/2023 for more information.";
$filtered = filter_var($string, FILTER_SANITIZE_NUMBER_INT);

echo $filtered;    
</code></pre>

<p>Output:</p>

<pre><code>2023</code></pre>

<p>In this example, <code>FILTER_SANITIZE_NUMBER_INT</code> is used to <strong>filter out integer numbers</strong> from the string. The result will be "2023."</p>

<h2>4. Using a Custom Functions</h2>

<p>You can also create custom functions to extract numbers from a string. This approach is particularly useful if you have specific requirements for extracting numeric values.</p>

<h4>Here's an example function:</h4>

<pre class="language-php"><code>function extractNumbers($string) {
    $matches = [];
    preg_match_all("/\d+(\.\d+)?/", $string, $matches);
    return $matches[0];
}

$string = "The product IDs are P123, P456, and P789. Their prices are $12.99, $24.95, and $30.00.";
$numbers = extractNumbers($string);

print_r($numbers);</code></pre>

<p>Output:</p>

<pre><code>Array
(
    [0] =&gt; 123
    [1] =&gt; 456
    [2] =&gt; 789
    [3] =&gt; 12.99
    [4] =&gt; 24.95
    [5] =&gt; 30.00
)</code></pre>

<p>In this example, the <code>extractNumbers()</code> function encapsulates the regular expression matching process. It returns an array of numeric values found in the input string.</p>

<h2>Conclusion</h2>

<p>Extracting numbers from a string in PHP can be achieved using various methods, depending on your specific requirements and formatting. Regular expressions, <code>preg_replace()</code>, <code>filter_var()</code>, and custom functions provide flexibility for different scenarios. Understanding these techniques allows you to effectively extract numerical values from strings in your PHP applications.</p>
</article>
<div class="footer" id="footer"></div>
<script src="https://cdn.jsdelivr.net/gh/chandan-tudu/docs@latest/assets/script.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/chandan-tudu/docs@latest/assets/ex.min.js"></script>
</body>
</html>